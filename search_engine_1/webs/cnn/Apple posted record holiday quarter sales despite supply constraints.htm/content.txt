(CNN Business) Apple posted record revenue during the all-important holiday quarter even as it continued to grapple with supply chain shortages.

The company on Thursday reported $123.9 billion in revenue for the final months of the year, an 11% increase from the year prior, fueled by demand for its latest lineup of iPhones and other devices as well as the strength of its services business.

Apple AAPL also posted earnings per share of $2.10, better than analysts had expected.

Shares of Apple rose more than 4% in after-hours trading Thursday following the earnings results.

"We set all-time records for both developed and emerging markets and saw revenue growth across all of our product categories, except for iPad, which we said would be supply constrained," Tim Cook, Apple's CEO, said in a conference call with analysts Thursday discussing the results. "As expected in the aggregate, we experienced supply constraints that were higher than the September quarter."

Read More