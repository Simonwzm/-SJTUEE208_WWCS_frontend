(CNN Business) Apple has agreed to pay millions of dollars to 34 states over its controversial previous practice of deliberately slowing down older iPhones to extend their battery life.

The company will pay $113 million to settle an investigation by states including California and Arizona over how Apple wasn't transparent about its iPhone battery problems that led to unexpected device shutdowns. Instead of disclosing the issue to consumers or replacing the batteries, it pushed a software update in December 2016 that impacted the performance of older iPhone models.

Apple AAPL News of the practice upsetconsumers, igniting what some called " batterygate ." Many believed it was an effort to encourage users to buy new iPhones.

Attorney General Mark Brnovich, who helped lead the investigation, in a "Big Tech companies must stop manipulating consumers and tell them the whole truth about their practices and products," said ArizonaAttorney General Mark Brnovich, who helped lead the investigation, in a press release on Thursday. "I'm committed to holding these goliath technology companies accountable when they conceal important information from users."

At the time, the company issued a rare apology , temporarily dropped the price of replacement batteries from $79 to $29, and added a feature to allow iPhone users to monitor battery health

Read More