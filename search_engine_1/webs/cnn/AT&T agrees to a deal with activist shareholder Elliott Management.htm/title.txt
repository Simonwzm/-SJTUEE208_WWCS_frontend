AT&T agrees to a deal with activist shareholder Elliott Management