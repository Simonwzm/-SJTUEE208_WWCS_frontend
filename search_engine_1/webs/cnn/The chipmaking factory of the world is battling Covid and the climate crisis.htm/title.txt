The chipmaking factory of the world is battling Covid and the climate crisis