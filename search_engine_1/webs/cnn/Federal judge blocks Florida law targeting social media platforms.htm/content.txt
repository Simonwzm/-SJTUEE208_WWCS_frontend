(CNN Business) A federal judge on Wednesday temporarily blocked a new Florida law regulating how social media companies can moderate content, saying hours before the law was set to take effect that the legislation violates the First Amendment and contradicts federal law.

The preliminary injunction is a victory for Silicon Valley and a setback for conservatives in Florida's government who had advocated for the measure as a way to rein in Big Tech's alleged liberal agenda. But the decision could also further energize Republicans in Congress to push new legislation on content moderation at the federal level.

The Florida law, signed in May by Gov. Ron DeSantis , would have gone into effect Thursday. It would have barred online platforms from suspending politicians and allowed politicians to sue tech companies for having been removed from social media. It would also have restricted companies accused of antitrust violations from doing business with the state government.

The hot button bill was one of the most severe steps taken by a Republican governor to address allegations of censorship by the online platforms. In signing the legislation, DeSantis and his allies said the measures were necessary to preserve the freedom of speech of conservatives against "Big Tech oligarchs."

But the legislation is unconstitutional because it infringes on tech companies' First Amendment speech rights, said Judge Robert Hinkle of the US District Court for the Northern District of Florida.

Read More